{"dependencies":[{"name":"react","loc":{"line":11,"column":18}},{"name":"prop-types","loc":{"line":12,"column":22}},{"name":"chart.js","loc":{"line":13,"column":18}},{"name":"lodash/isEqual","loc":{"line":14,"column":20}},{"name":"lodash/find","loc":{"line":15,"column":17}}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Chart=exports.defaults=exports.Scatter=exports.Bubble=exports.Polar=exports.Radar=exports.HorizontalBar=exports.Bar=exports.Line=exports.Pie=exports.Doughnut=void 0;var t=require(\"react\"),e=c(t),r=require(\"prop-types\"),n=c(r),a=require(\"chart.js\"),o=c(a),i=require(\"lodash/isEqual\"),s=c(i),u=require(\"lodash/find\"),p=c(u);function c(t){return t&&t.__esModule?t:{default:t}}var f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function h(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}function l(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function d(t,e){if(!t)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!e||\"object\"!=typeof e&&\"function\"!=typeof e?t:e}function y(t,e){if(\"function\"!=typeof e&&null!==e)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v=function(t){y(r,t);function r(){var e,n;l(this,r);for(var a=arguments.length,o=Array(a),i=0;i<a;i++)o[i]=arguments[i];return e=n=d(this,t.call.apply(t,[this].concat(o))),n.handleOnClick=function(t){var e=n.chart_instance,r=n.props,a=r.getDatasetAtEvent,o=r.getElementAtEvent,i=r.getElementsAtEvent,s=r.onElementsClick;a&&a(e.getDatasetAtEvent(t),t),o&&o(e.getElementAtEvent(t),t),i&&i(e.getElementsAtEvent(t),t),s&&s(e.getElementsAtEvent(t),t)},n.ref=function(t){n.element=t},d(n,e)}return r.prototype.componentWillMount=function(){this.chart_instance=void 0},r.prototype.componentDidMount=function(){this.renderChart()},r.prototype.componentDidUpdate=function(){if(this.props.redraw)return this.chart_instance.destroy(),void this.renderChart();this.updateChart()},r.prototype.shouldComponentUpdate=function(t){var e=this.props,r=(e.redraw,e.type),n=e.options,a=e.plugins,o=e.legend,i=e.height,u=e.width;if(!0===t.redraw)return!0;if(i!==t.height||u!==t.width)return!0;if(r!==t.type)return!0;if(!(0,s.default)(o,t.legend))return!0;if(!(0,s.default)(n,t.options))return!0;var p=this.transformDataProp(t);return!(0,s.default)(this.shadowDataProp,p)||!(0,s.default)(a,t.plugins)},r.prototype.componentWillUnmount=function(){this.chart_instance.destroy()},r.prototype.transformDataProp=function(t){var e=t.data;if(\"function\"==typeof e){return e(this.element)}return e},r.prototype.memoizeDataProps=function(){if(this.props.data){var t=this.transformDataProp(this.props);return this.shadowDataProp=f({},t,{datasets:t.datasets&&t.datasets.map(function(t){return f({},t)})}),t}},r.prototype.updateChart=function(){var t=this,e=this.props.options,r=this.memoizeDataProps(this.props);if(this.chart_instance){e&&(this.chart_instance.options=o.default.helpers.configMerge(this.chart_instance.options,e));for(var n=this.chart_instance.config.data&&this.chart_instance.config.data.datasets||[],a=r.datasets||[],i=n.map(this.props.datasetKeyProvider),s=a.map(this.props.datasetKeyProvider),u=a.filter(function(e){return-1===i.indexOf(t.props.datasetKeyProvider(e))}),c=function(e){var r=t.props.datasetKeyProvider(n[e]);if(-1===s.indexOf(r))n.splice(e,1);else{var o=(0,p.default)(a,function(e){return t.props.datasetKeyProvider(e)===r});if(o){n[e].data.splice(o.data.length),o.data.forEach(function(t,r){n[e].data[r]=o.data[r]});o.data;var i=h(o,[\"data\"]);n[e]=f({data:n[e].data},n[e],i)}}},l=n.length-1;l>=0;l-=1)c(l);u.forEach(function(t){return n.push(t)});r.datasets;var d=h(r,[\"datasets\"]);this.chart_instance.config.data=f({},this.chart_instance.config.data,d),this.chart_instance.update()}},r.prototype.renderChart=function(){var t=this.props,e=t.options,n=t.legend,a=t.type,i=(t.redraw,t.plugins),u=this.element,p=this.memoizeDataProps();void 0===n||(0,s.default)(r.defaultProps.legend,n)||(e.legend=n),this.chart_instance=new o.default(u,{type:a,data:p,options:e,plugins:i})},r.prototype.render=function(){var t=this.props,r=t.height,n=t.width;t.onElementsClick;return e.default.createElement(\"canvas\",{ref:this.ref,height:r,width:n,onClick:this.handleOnClick})},r}(e.default.Component);v.getLabelAsKey=function(t){return t.label},v.propTypes={data:n.default.oneOfType([n.default.object,n.default.func]).isRequired,getDatasetAtEvent:n.default.func,getElementAtEvent:n.default.func,getElementsAtEvent:n.default.func,height:n.default.number,legend:n.default.object,onElementsClick:n.default.func,options:n.default.object,plugins:n.default.arrayOf(n.default.object),redraw:n.default.bool,type:function(t,e,r){if(!o.default.controllers[t[e]])return new Error(\"Invalid chart type `\"+t[e]+\"` supplied to `\"+r+\"`.\")},width:n.default.number,datasetKeyProvider:n.default.func},v.defaultProps={legend:{display:!0,position:\"bottom\"},type:\"doughnut\",height:150,width:300,redraw:!1,options:{},datasetKeyProvider:v.getLabelAsKey},exports.default=v;var m=exports.Doughnut=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"doughnut\"}))},r}(e.default.Component),g=exports.Pie=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"pie\"}))},r}(e.default.Component),_=exports.Line=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"line\"}))},r}(e.default.Component),E=exports.Bar=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"bar\"}))},r}(e.default.Component),b=exports.HorizontalBar=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"horizontalBar\"}))},r}(e.default.Component),x=exports.Radar=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"radar\"}))},r}(e.default.Component),P=exports.Polar=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"polarArea\"}))},r}(e.default.Component),w=exports.Bubble=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"bubble\"}))},r}(e.default.Component),C=exports.Scatter=function(t){y(r,t);function r(){return l(this,r),d(this,t.apply(this,arguments))}return r.prototype.render=function(){var t=this;return e.default.createElement(v,f({},this.props,{ref:function(e){return t.chart_instance=e&&e.chart_instance},type:\"scatter\"}))},r}(e.default.Component),O=exports.defaults=o.default.defaults;exports.Chart=o.default;"},"hash":"29a1337b0b85950b5ac3cb1dbc8300e1"}