{"dependencies":[{"name":"../core/core.defaults","loc":{"line":3,"column":23}},{"name":"../elements/index","loc":{"line":4,"column":23}},{"name":"../helpers/index","loc":{"line":5,"column":22}}],"generated":{"js":"\"use strict\";var e=require(\"../core/core.defaults\"),t=require(\"../elements/index\"),o=require(\"../helpers/index\");e._set(\"line\",{showLines:!0,spanGaps:!1,hover:{mode:\"label\"},scales:{xAxes:[{type:\"category\",id:\"x-axis-0\"}],yAxes:[{type:\"linear\",id:\"y-axis-0\"}]}}),module.exports=function(e){function r(e,t){return o.valueOrDefault(e.showLine,t.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:t.Line,dataElementType:t.Point,update:function(e){var t,i,a,n=this.getMeta(),d=n.dataset,s=n.data||[],l=this.chart.options,u=l.elements.line,h=this.getScaleForId(n.yAxisID),c=this.getDataset(),p=r(c,l);for(p&&(a=d.custom||{},void 0!==c.tension&&void 0===c.lineTension&&(c.lineTension=c.tension),d._scale=h,d._datasetIndex=this.index,d._children=s,d._model={spanGaps:c.spanGaps?c.spanGaps:l.spanGaps,tension:a.tension?a.tension:o.valueOrDefault(c.lineTension,u.tension),backgroundColor:a.backgroundColor?a.backgroundColor:c.backgroundColor||u.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:c.borderWidth||u.borderWidth,borderColor:a.borderColor?a.borderColor:c.borderColor||u.borderColor,borderCapStyle:a.borderCapStyle?a.borderCapStyle:c.borderCapStyle||u.borderCapStyle,borderDash:a.borderDash?a.borderDash:c.borderDash||u.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:c.borderDashOffset||u.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:c.borderJoinStyle||u.borderJoinStyle,fill:a.fill?a.fill:void 0!==c.fill?c.fill:u.fill,steppedLine:a.steppedLine?a.steppedLine:o.valueOrDefault(c.steppedLine,u.stepped),cubicInterpolationMode:a.cubicInterpolationMode?a.cubicInterpolationMode:o.valueOrDefault(c.cubicInterpolationMode,u.cubicInterpolationMode)},d.pivot()),t=0,i=s.length;t<i;++t)this.updateElement(s[t],t,e);for(p&&0!==d._model.tension&&this.updateBezierControlPoints(),t=0,i=s.length;t<i;++t)s[t].pivot()},getPointBackgroundColor:function(e,t){var r=this.chart.options.elements.point.backgroundColor,i=this.getDataset(),a=e.custom||{};return a.backgroundColor?r=a.backgroundColor:i.pointBackgroundColor?r=o.valueAtIndexOrDefault(i.pointBackgroundColor,t,r):i.backgroundColor&&(r=i.backgroundColor),r},getPointBorderColor:function(e,t){var r=this.chart.options.elements.point.borderColor,i=this.getDataset(),a=e.custom||{};return a.borderColor?r=a.borderColor:i.pointBorderColor?r=o.valueAtIndexOrDefault(i.pointBorderColor,t,r):i.borderColor&&(r=i.borderColor),r},getPointBorderWidth:function(e,t){var r=this.chart.options.elements.point.borderWidth,i=this.getDataset(),a=e.custom||{};return isNaN(a.borderWidth)?!isNaN(i.pointBorderWidth)||o.isArray(i.pointBorderWidth)?r=o.valueAtIndexOrDefault(i.pointBorderWidth,t,r):isNaN(i.borderWidth)||(r=i.borderWidth):r=a.borderWidth,r},updateElement:function(e,t,r){var i,a,n=this.getMeta(),d=e.custom||{},s=this.getDataset(),l=this.index,u=s.data[t],h=this.getScaleForId(n.yAxisID),c=this.getScaleForId(n.xAxisID),p=this.chart.options.elements.point;void 0!==s.radius&&void 0===s.pointRadius&&(s.pointRadius=s.radius),void 0!==s.hitRadius&&void 0===s.pointHitRadius&&(s.pointHitRadius=s.hitRadius),i=c.getPixelForValue(\"object\"==typeof u?u:NaN,t,l),a=r?h.getBasePixel():this.calculatePointY(u,t,l),e._xScale=c,e._yScale=h,e._datasetIndex=l,e._index=t,e._model={x:i,y:a,skip:d.skip||isNaN(i)||isNaN(a),radius:d.radius||o.valueAtIndexOrDefault(s.pointRadius,t,p.radius),pointStyle:d.pointStyle||o.valueAtIndexOrDefault(s.pointStyle,t,p.pointStyle),backgroundColor:this.getPointBackgroundColor(e,t),borderColor:this.getPointBorderColor(e,t),borderWidth:this.getPointBorderWidth(e,t),tension:n.dataset._model?n.dataset._model.tension:0,steppedLine:!!n.dataset._model&&n.dataset._model.steppedLine,hitRadius:d.hitRadius||o.valueAtIndexOrDefault(s.pointHitRadius,t,p.hitRadius)}},calculatePointY:function(e,t,o){var r,i,a,n=this.chart,d=this.getMeta(),s=this.getScaleForId(d.yAxisID),l=0,u=0;if(s.options.stacked){for(r=0;r<o;r++)if(i=n.data.datasets[r],\"line\"===(a=n.getDatasetMeta(r)).type&&a.yAxisID===s.id&&n.isDatasetVisible(r)){var h=Number(s.getRightValue(i.data[t]));h<0?u+=h||0:l+=h||0}var c=Number(s.getRightValue(e));return c<0?s.getPixelForValue(u+c):s.getPixelForValue(l+c)}return s.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,r,i,a=this.getMeta(),n=this.chart.chartArea,d=a.data||[];a.dataset._model.spanGaps&&(d=d.filter(function(e){return!e._model.skip}));function s(e,t,o){return Math.max(Math.min(e,o),t)}if(\"monotone\"===a.dataset._model.cubicInterpolationMode)o.splineCurveMonotone(d);else for(e=0,t=d.length;e<t;++e)r=d[e]._model,i=o.splineCurve(o.previousItem(d,e)._model,r,o.nextItem(d,e)._model,a.dataset._model.tension),r.controlPointPreviousX=i.previous.x,r.controlPointPreviousY=i.previous.y,r.controlPointNextX=i.next.x,r.controlPointNextY=i.next.y;if(this.chart.options.elements.line.capBezierPoints)for(e=0,t=d.length;e<t;++e)(r=d[e]._model).controlPointPreviousX=s(r.controlPointPreviousX,n.left,n.right),r.controlPointPreviousY=s(r.controlPointPreviousY,n.top,n.bottom),r.controlPointNextX=s(r.controlPointNextX,n.left,n.right),r.controlPointNextY=s(r.controlPointNextY,n.top,n.bottom)},draw:function(){var e=this.chart,t=this.getMeta(),i=t.data||[],a=e.chartArea,n=i.length,d=0;for(o.canvas.clipArea(e.ctx,a),r(this.getDataset(),e.options)&&t.dataset.draw(),o.canvas.unclipArea(e.ctx);d<n;++d)i[d].draw(a)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],r=e._index,i=e.custom||{},a=e._model;a.radius=i.hoverRadius||o.valueAtIndexOrDefault(t.pointHoverRadius,r,this.chart.options.elements.point.hoverRadius),a.backgroundColor=i.hoverBackgroundColor||o.valueAtIndexOrDefault(t.pointHoverBackgroundColor,r,o.getHoverColor(a.backgroundColor)),a.borderColor=i.hoverBorderColor||o.valueAtIndexOrDefault(t.pointHoverBorderColor,r,o.getHoverColor(a.borderColor)),a.borderWidth=i.hoverBorderWidth||o.valueAtIndexOrDefault(t.pointHoverBorderWidth,r,a.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],r=e._index,i=e.custom||{},a=e._model;void 0!==t.radius&&void 0===t.pointRadius&&(t.pointRadius=t.radius),a.radius=i.radius||o.valueAtIndexOrDefault(t.pointRadius,r,this.chart.options.elements.point.radius),a.backgroundColor=this.getPointBackgroundColor(e,r),a.borderColor=this.getPointBorderColor(e,r),a.borderWidth=this.getPointBorderWidth(e,r)}})};"},"hash":"570a2c31ba96bbd4a9772d14a8b9ca25"}