{"dependencies":[{"name":"./core.defaults","loc":{"line":4,"column":23}},{"name":"./core.element","loc":{"line":5,"column":22}},{"name":"../helpers/index","loc":{"line":6,"column":22}}],"generated":{"js":"\"use strict\";var t=require(\"./core.defaults\"),n=require(\"./core.element\"),e=require(\"../helpers/index\");t._set(\"global\",{animation:{duration:1e3,easing:\"easeOutQuart\",onProgress:e.noop,onComplete:e.noop}}),module.exports=function(t){t.Animation=n.extend({chart:null,currentStep:0,numSteps:60,easing:\"\",render:null,onAnimationProgress:null,onAnimationComplete:null}),t.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(t,n,e,i){var r,a,o=this.animations;for(n.chart=t,i||(t.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===t)return void(o[r]=n);o.push(n),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var n=e.findIndex(this.animations,function(n){return n.chart===t});-1!==n&&(this.animations.splice(n,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=e.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=Date.now(),n=0;this.dropFrames>1&&(n=Math.floor(this.dropFrames),this.dropFrames=this.dropFrames%1),this.advance(1+n);var e=Date.now();this.dropFrames+=(e-t)/this.frameDuration,this.animations.length>0&&this.requestAnimationFrame()},advance:function(t){for(var n,i,r=this.animations,a=0;a<r.length;)i=(n=r[a]).chart,n.currentStep=(n.currentStep||0)+t,n.currentStep=Math.min(n.currentStep,n.numSteps),e.callback(n.render,[i,n],i),e.callback(n.onAnimationProgress,[n],i),n.currentStep>=n.numSteps?(e.callback(n.onAnimationComplete,[n],i),i.animating=!1,r.splice(a,1)):++a}},Object.defineProperty(t.Animation.prototype,\"animationObject\",{get:function(){return this}}),Object.defineProperty(t.Animation.prototype,\"chartInstance\",{get:function(){return this.chart},set:function(t){this.chart=t}})};"},"hash":"5f7a473e538ab08930639f7856fa13e5"}