{"dependencies":[{"name":"../core/core.defaults","loc":{"line":3,"column":23}},{"name":"../elements/index","loc":{"line":4,"column":23}},{"name":"../helpers/index","loc":{"line":5,"column":22}}],"generated":{"js":"\"use strict\";var t=require(\"../core/core.defaults\"),e=require(\"../elements/index\"),a=require(\"../helpers/index\");t._set(\"doughnut\",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:\"single\"},legendCallback:function(t){var e=[];e.push('<ul class=\"'+t.id+'-legend\">');var a=t.data,r=a.datasets,n=a.labels;if(r.length)for(var i=0;i<r[0].data.length;++i)e.push('<li><span style=\"background-color:'+r[0].backgroundColor[i]+'\"></span>'),n[i]&&e.push(n[i]),e.push(\"</li>\");return e.push(\"</ul>\"),e.join(\"\")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(r,n){var i=t.getDatasetMeta(0),o=e.datasets[0],d=i.data[n],l=d&&d.custom||{},s=a.valueAtIndexOrDefault,h=t.options.elements.arc;return{text:r,fillStyle:l.backgroundColor?l.backgroundColor:s(o.backgroundColor,n,h.backgroundColor),strokeStyle:l.borderColor?l.borderColor:s(o.borderColor,n,h.borderColor),lineWidth:l.borderWidth?l.borderWidth:s(o.borderWidth,n,h.borderWidth),hidden:isNaN(o.data[n])||i.data[n].hidden,index:n}}):[]}},onClick:function(t,e){var a,r,n,i=e.index,o=this.chart;for(a=0,r=(o.data.datasets||[]).length;a<r;++a)(n=o.getDatasetMeta(a)).data[i]&&(n.data[i].hidden=!n.data[i].hidden);o.update()}},cutoutPercentage:50,rotation:-.5*Math.PI,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return\"\"},label:function(t,e){var r=e.labels[t.index],n=\": \"+e.datasets[t.datasetIndex].data[t.index];return a.isArray(r)?(r=r.slice())[0]+=n:r+=n,r}}}}),t._set(\"pie\",a.clone(t.doughnut)),t._set(\"pie\",{cutoutPercentage:0}),module.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:e.Arc,linkScales:a.noop,getRingIndex:function(t){for(var e=0,a=0;a<t;++a)this.chart.isDatasetVisible(a)&&++e;return e},update:function(t){var e=this,r=e.chart,n=r.chartArea,i=r.options,o=i.elements.arc,d=n.right-n.left-o.borderWidth,l=n.bottom-n.top-o.borderWidth,s=Math.min(d,l),h={x:0,y:0},u=e.getMeta(),c=i.cutoutPercentage,g=i.circumference;if(g<2*Math.PI){var x=i.rotation%(2*Math.PI),m=(x+=2*Math.PI*(x>=Math.PI?-1:x<-Math.PI?1:0))+g,M={x:Math.cos(x),y:Math.sin(x)},f={x:Math.cos(m),y:Math.sin(m)},b=x<=0&&m>=0||x<=2*Math.PI&&2*Math.PI<=m,p=x<=.5*Math.PI&&.5*Math.PI<=m||x<=2.5*Math.PI&&2.5*Math.PI<=m,y=x<=-Math.PI&&-Math.PI<=m||x<=Math.PI&&Math.PI<=m,I=x<=.5*-Math.PI&&.5*-Math.PI<=m||x<=1.5*Math.PI&&1.5*Math.PI<=m,v=c/100,P={x:y?-1:Math.min(M.x*(M.x<0?1:v),f.x*(f.x<0?1:v)),y:I?-1:Math.min(M.y*(M.y<0?1:v),f.y*(f.y<0?1:v))},R={x:b?1:Math.max(M.x*(M.x>0?1:v),f.x*(f.x>0?1:v)),y:p?1:Math.max(M.y*(M.y>0?1:v),f.y*(f.y>0?1:v))},C={width:.5*(R.x-P.x),height:.5*(R.y-P.y)};s=Math.min(d/C.width,l/C.height),h={x:-.5*(R.x+P.x),y:-.5*(R.y+P.y)}}r.borderWidth=e.getMaxBorderWidth(u.data),r.outerRadius=Math.max((s-r.borderWidth)/2,0),r.innerRadius=Math.max(c?r.outerRadius/100*c:0,0),r.radiusLength=(r.outerRadius-r.innerRadius)/r.getVisibleDatasetCount(),r.offsetX=h.x*r.outerRadius,r.offsetY=h.y*r.outerRadius,u.total=e.calculateTotal(),e.outerRadius=r.outerRadius-r.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-r.radiusLength,0),a.each(u.data,function(a,r){e.updateElement(a,r,t)})},updateElement:function(t,e,r){var n=this.chart,i=n.chartArea,o=n.options,d=o.animation,l=(i.left+i.right)/2,s=(i.top+i.bottom)/2,h=o.rotation,u=o.rotation,c=this.getDataset(),g=r&&d.animateRotate?0:t.hidden?0:this.calculateCircumference(c.data[e])*(o.circumference/(2*Math.PI)),x=r&&d.animateScale?0:this.innerRadius,m=r&&d.animateScale?0:this.outerRadius,M=a.valueAtIndexOrDefault;a.extend(t,{_datasetIndex:this.index,_index:e,_model:{x:l+n.offsetX,y:s+n.offsetY,startAngle:h,endAngle:u,circumference:g,outerRadius:m,innerRadius:x,label:M(c.label,e,n.data.labels[e])}});var f=t._model;this.removeHoverStyle(t),r&&d.animateRotate||(f.startAngle=0===e?o.rotation:this.getMeta().data[e-1]._model.endAngle,f.endAngle=f.startAngle+f.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,e=this.getDataset(),r=this.getMeta(),n=0;return a.each(r.data,function(a,r){t=e.data[r],isNaN(t)||a.hidden||(n+=Math.abs(t))}),n},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,a,r=0,n=this.index,i=t.length,o=0;o<i;o++)e=t[o]._model?t[o]._model.borderWidth:0,r=(a=t[o]._chart?t[o]._chart.config.data.datasets[n].hoverBorderWidth:0)>(r=e>r?e:r)?a:r;return r}})};"},"hash":"30a08156022089a5dba1a9786e8e97fe"}